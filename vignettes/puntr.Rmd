---
title: "Getting started"
output: html_document
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
## Installation
Install via:
```{r, echo=FALSE, message=FALSE, results='hide'}
install.packages(c("devtools", "tidyverse"), repos = "http://cran.us.r-project.org")
```
```{r, message=FALSE, results='hide'}
devtools::install_github("Puntalytics/puntr")
library(puntr)
library(tidyverse) # always a good idea to do this too
```
## Using `puntr` with NFL data
For speed, we've already scraped (using [`nflfastR`](https://mrcaseb.github.io/nflfastR/)) and saved punting data for the 1999-2019 seasons; our import function just grabs the data from [here](https://github.com/Puntalytics/puntr-data/tree/master/data). 
Import, clean, and calculate as follows:
```{r}
# punts_raw <- import_punts(1999:2019) # this takes a minute or two - there have been a lot of punts since 1999!
punts_raw <- import_punts(2018:2019) # fewer seasons is faster
punts_cleaned <- trust_the_process(punts_raw) # process
punts <- calculate_all(punts_cleaned) # calculate custom Puntalytics metrics 
```
You now have a dataframe `punts` where each row is a punt, and each column is a stat relevant to punting (including our custom metrics).  
  
To compare punters, continue with
```{r}
mini <- create_mini(punts)
```
to get a dataframe where each row is a punter, and each column is an average stat for that punter.  
```{r, echo=FALSE}
mini <- mini %>% arrange(desc(SHARP_RERUN))
rmarkdown::paged_table(mini)
```
To compare punter **seasons**, instead use
```{r}
miniY <- create_miniY(punts)
```
which gives every unique punter season a row.  
```{r, echo=FALSE}
miniY <- miniY %>% arrange(desc(SHARP_RERUN))
rmarkdown::paged_table(miniY)
```
  
These three dataframes - `punts`, `mini`, and `miniY` - should serve as a good starting point for any custom analysis you'd like to do, be that using built-in `puntr` metrics, or your own.

## Using `puntr` with college data
`puntr` can also handle punting data for college football, piggybacking off of the scraping abilities of the [`cfbscrapR`](https://saiemgilani.github.io/cfbscrapR/) package. Import and clean as follows:
```{r message=FALSE, warning=FALSE}
college_punts <- import_college_punts(2018:2019) %>% # import (calls cfbscrapR behind the scenes)
  college_to_pro() %>% # rename columns to those used by nflfastR
  calculate_all() # calculate as with NFL data
```
Now we can use the same `create_miniY` as above to compare college punter seasons (`create_mini` would also work here, of course.)
```{r}
miniY_college <- create_miniY(college_punts)
```
```{r, echo=FALSE}
miniY_college <- miniY_college %>% arrange(desc(SHARP_RERUN))
rmarkdown::paged_table(miniY_college)
```
